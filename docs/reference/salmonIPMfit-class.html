<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fitted model objects: the salmonIPMfit class — salmonIPMfit-class • salmonIPM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fitted model objects: the salmonIPMfit class — salmonIPMfit-class"><meta name="description" content="Models fitted with salmonIPM-package are objects of S3 class
salmonIPMfit. Elements generally mirror the named arguments passed to the
constructor function by salmonIPM() and are mostly self-explanatory, except
prior.info is a named list whose elements are lists returned by priors
functions for all hyperparameters in the model, whether modifiable
(user-specified or default) or hard-coded."><meta property="og:description" content="Models fitted with salmonIPM-package are objects of S3 class
salmonIPMfit. Elements generally mirror the named arguments passed to the
constructor function by salmonIPM() and are mostly self-explanatory, except
prior.info is a named list whose elements are lists returned by priors
functions for all hyperparameters in the model, whether modifiable
(user-specified or default) or hard-coded."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">salmonIPM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started with salmonIPM</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Fitted model objects: the <code>salmonIPMfit</code> class</h1>

      <div class="d-none name"><code>salmonIPMfit-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Models fitted with <a href="salmonIPM-package.html">salmonIPM-package</a> are objects of S3 class
<code>salmonIPMfit</code>. Elements generally mirror the named arguments passed to the
constructor function by <code><a href="salmonIPM.html">salmonIPM()</a></code> and are mostly self-explanatory, except
<code>prior.info</code> is a named list whose elements are lists returned by <a href="priors.html">priors</a>
functions for all hyperparameters in the model, whether modifiable
(user-specified or default) or hard-coded.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">salmonIPMfit</span><span class="op">(</span></span>
<span>  <span class="va">stanfit</span>,</span>
<span>  <span class="va">call</span>,</span>
<span>  <span class="va">stan_model</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">life_cycle</span>,</span>
<span>  <span class="va">ages</span>,</span>
<span>  <span class="va">pool_pops</span>,</span>
<span>  <span class="va">SR_fun</span>,</span>
<span>  <span class="va">RRS</span>,</span>
<span>  <span class="va">par_models</span>,</span>
<span>  <span class="va">center</span>,</span>
<span>  <span class="va">scale</span>,</span>
<span>  <span class="va">age_S_obs</span>,</span>
<span>  <span class="va">age_S_eff</span>,</span>
<span>  <span class="va">conditionGRonMS</span>,</span>
<span>  <span class="va">prior.info</span>,</span>
<span>  <span class="va">stan_data</span>,</span>
<span>  <span class="va">dims</span>,</span>
<span>  <span class="va">pops</span>,</span>
<span>  <span class="va">elapsed_time</span>,</span>
<span>  <span class="va">salmonIPM_version</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-stanfit">stanfit<a class="anchor" aria-label="anchor" href="#arg-stanfit"></a></dt>
<dd><p>An object of class stanfit.</p></dd>


<dt id="arg-call">call<a class="anchor" aria-label="anchor" href="#arg-call"></a></dt>
<dd><p>An object of class call containing the call to
<code><a href="salmonIPM.html">salmonIPM()</a></code>.</p></dd>


<dt id="arg-stan-model">stan_model<a class="anchor" aria-label="anchor" href="#arg-stan-model"></a></dt>
<dd><p>Character string specifying the <strong>salmonIPM</strong> model to be
fit. A more concise alternative to specifying <code>model</code>, <code>life_cycle</code>, and
<code>pool_pops</code> and will override those arguments.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Either <code>"IPM"</code> or <code>"RR"</code>, indicating whether to fit an IPM or
run-reconstruction regression model.</p></dd>


<dt id="arg-life-cycle">life_cycle<a class="anchor" aria-label="anchor" href="#arg-life-cycle"></a></dt>
<dd><p>Character string indicating which life-cycle model to fit.
One of the following options (must be <code>"SS"</code> if <code>model == "RR"</code>):</p><ul><li><p><code>"SS"</code>  Spawner-to-spawner (the default)</p></li>
<li><p><code>"SSiter"</code> Spawner-to-spawner with iteroparity (an alias for <code>"SS"</code> with
<code>stan_data("IPM_SS_[x]p", fish_data = fish_data)$iter</code> set to 1)</p></li>
<li><p><code>"SMS"</code>  Spawner-smolt-spawner with a fixed smolt age</p></li>
<li><p><code>"SMaS"</code>  Spawner-smolt-spawner with multiple smolt age classes (currently only
available for <code>pool_pops == FALSE</code>)</p></li>
<li><p><code>"LCRchum"</code>  Customized spawner-smolt-spawner model for Lower Columbia River chum
(<code>pool_pops == TRUE</code>)</p></li>
</ul></dd>


<dt id="arg-ages">ages<a class="anchor" aria-label="anchor" href="#arg-ages"></a></dt>
<dd><p>For multi-stage models, a named list giving the ages in years of
all fixed-age subadult life stages. This is not needed for <code>IPM_SMaS_np</code>
because in that case smolt age structure is provided in <code>fish_data</code>.</p></dd>


<dt id="arg-pool-pops">pool_pops<a class="anchor" aria-label="anchor" href="#arg-pool-pops"></a></dt>
<dd><p>Logical defaulting to <code>TRUE</code> if multiple populations are
present in <code>fish_data</code> and <code>FALSE</code> otherwise, indicating whether to model
multiple populations hierarchically rather than as independent "fixed
effects". It is possible to fit a model to multiple populations
simultaneously even though they share no parameters; indeed this is more
efficient than fitting them one at a time because calculations are
vectorized and warmup is shared.</p></dd>


<dt id="arg-sr-fun">SR_fun<a class="anchor" aria-label="anchor" href="#arg-sr-fun"></a></dt>
<dd><p>One of <code>"exp"</code> (density-independent discrete exponential),
<code>"BH"</code> (Beverton-Holt, the default), or <code>"Ricker"</code>, indicating which
spawner-recruit function to fit. Synonyms <code>"DI"</code>, <code>"B-H"</code>, <code>"bh"</code>, <code>"b-h"</code>
and <code>"ricker"</code> are accepted.</p></dd>


<dt id="arg-rrs">RRS<a class="anchor" aria-label="anchor" href="#arg-rrs"></a></dt>
<dd><p>A character string or vector of strings naming parameters of the
function specified by <code>SR_fun</code> that differ between wild- and
hatchery-origin spawners, such that the relative reproductive success of
hatchery spawners is not equal to 1. If <code>pool_pops == TRUE</code>, these should
be the names of the population-specific parameters, <strong>not</strong> their
hyper-means. For example, if <code>life_cycle %in% c("SS","SSiter")</code>, the
options are <code>"none"</code> (the default), <code>"alpha"</code>, <code>"Rmax"</code>, or
<code>c("alpha","Rmax")</code>. Currently <code>RRS</code> is only implemented for <code>pool_pops == FALSE</code>.</p></dd>


<dt id="arg-par-models">par_models<a class="anchor" aria-label="anchor" href="#arg-par-models"></a></dt>
<dd><p>Optional list of two-sided formulas of the form <code>theta ~ x1 + ... + xK</code>, where <code>theta</code> is a (hyper)parameter or state in the model
specified by <code>stan_model</code> that accepts covariates (see <strong>Details</strong> for
available model-parameter combinations) and <code>x1 + ... + xK</code> are terms
involving variables in <code>fish_data</code>. Standard formula syntax such as <code>:</code> and
<code>*</code> may be used; see <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">stats::formula()</a></code>.</p></dd>


<dt id="arg-center">center<a class="anchor" aria-label="anchor" href="#arg-center"></a></dt>
<dd><p>Logical indicating whether the terms in model matrices
constructed from <code>fish_data</code> using the formulas in <code>par_models</code> should be
centered. It is usually recommended to use the default (<code>TRUE</code>) so the
baseline parameter estimate applies when predictors are at their sample
means, but in some cases such as factor predictors <code>center = FALSE</code> may be
appropriate. If combining categorical and numeric predictors, the latter
can be centered and scaled prior to modeling.</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>Logical indicating whether the model matrices constructed from
<code>fish_data</code> using the formulas in <code>par_models</code> should be scaled to have
column SDs of 1. Unit-scaling predictors is less critical than centering,
but is advisable if variables have scales far from 1.</p></dd>


<dt id="arg-age-s-obs">age_S_obs<a class="anchor" aria-label="anchor" href="#arg-age-s-obs"></a></dt>
<dd><p>If <code>stan_model == "IPM_SS_pp"</code>, a logical or 0/1 integer
vector indicating, for each adult age, whether the observed total spawner
data includes that age. The default is to treat <code>S_obs</code> as including
spawners of all ages. This option may be useful if certain age classes are
not counted. If <code>life_cycle == "SSiter"</code>, <code>N_age</code> refers to the total
number of maiden and repeat age classes (counting the repeat plus group as
1).</p></dd>


<dt id="arg-age-s-eff">age_S_eff<a class="anchor" aria-label="anchor" href="#arg-age-s-eff"></a></dt>
<dd><p>If <code>stan_model == "IPM_SS_pp"</code>, a logical or 0/1 vector
indicating, for each adult age, whether spawners of that age contribute to
reproduction. This can be used, e.g., to exclude jacks from the effective
breeding population. The default is to include spawners of all ages. If
<code>life_cycle == "SSiter"</code>, <code>N_age</code> refers to the total number of maiden and
repeat age classes (counting the repeat plus group as 1).</p></dd>


<dt id="arg-conditiongronms">conditionGRonMS<a class="anchor" aria-label="anchor" href="#arg-conditiongronms"></a></dt>
<dd><p>If <code>life_cycle == "SMaS"</code>, logical indicating whether
the Gilbert-Rich age frequencies <code>n_GRage_obs</code> in <code>fish_data</code> are
conditioned on ocean age. If <code>FALSE</code> (the default) the counts are assumed
to be sampled randomly from the population. If <code>TRUE</code>, it is assumed that
the number of spawners of each ocean age (e.g., jacks vs 1-ocean) is
arbitrary, but smolt (FW) age is randomly sampled within each ocean age;
i.e., in a <code>smolt age x ocean age</code> contingency table, the cell frequencies
are conditioned on the column totals.</p></dd>


<dt id="arg-prior-info">prior.info<a class="anchor" aria-label="anchor" href="#arg-prior-info"></a></dt>
<dd><p>A named list of priors on <code>pars</code>. Each element is itself a
named list representing the prior in the format returned by the functions
in <a href="priors.html">priors</a> with an additional attribute <code>"type"</code>.</p></dd>


<dt id="arg-stan-data">stan_data<a class="anchor" aria-label="anchor" href="#arg-stan-data"></a></dt>
<dd><p>Optional named list of input data passed to
<code><a href="https://mc-stan.org/rstan/reference/stanmodel-method-sampling.html" class="external-link">rstan::sampling()</a></code> for fitting an IPM, as returned by <code><a href="stan_data.html">stan_data()</a></code>.
Stored if <code><a href="salmonIPM.html">salmonIPM()</a></code> is called with <code>save_data = TRUE</code>, otherwise
<code>NULL</code>.</p></dd>


<dt id="arg-dims">dims<a class="anchor" aria-label="anchor" href="#arg-dims"></a></dt>
<dd><p>A named list of data dimensions, including the number of cases
(i.e. rows in <code>fish_data</code>) <code>N</code>, the number of populations <code>N_pop</code>, the
number of years <code>N_year</code>, and any other model-specific elements.</p></dd>


<dt id="arg-pops">pops<a class="anchor" aria-label="anchor" href="#arg-pops"></a></dt>
<dd><p>Character vector giving the unique elements of <code>fish_data$pop</code>.</p></dd>


<dt id="arg-elapsed-time">elapsed_time<a class="anchor" aria-label="anchor" href="#arg-elapsed-time"></a></dt>
<dd><p>Wall time (s) to fit the model, as returned by
<code>get_elapsed_time()</code>.</p></dd>


<dt id="arg-salmonipm-version">salmonIPM_version<a class="anchor" aria-label="anchor" href="#arg-salmonipm-version"></a></dt>
<dd><p>The version of <strong>salmonIPM</strong> used to fit the model.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>salmonIPMfit</code> object with elements described above.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="salmonIPM.html">salmonIPM()</a></code>, <a href="priors.html">priors</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eric Buhle, Mark Scheuerell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

